{"version":3,"file":"static/js/505.9b020360.chunk.js","mappings":"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","sources":["components/Box.jsx","components/MoviesList/MoviesListStyled.styled.js","components/MoviesList/MoviesList.jsx","components/SearchBar/SearchBar.styled.js","components/SearchBar/SearchBar.jsx","pages/MoviesPage.jsx","services/fetchMovies.js"],"sourcesContent":["import styled from 'styled-components';\nimport { space, layout } from 'styled-system';\n\nexport const Box = styled.div`\n  ${space}\n  ${layout}\n`;","import styled from '@emotion/styled';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 auto;\n  row-gap: ${p => p.theme.space[4]}px;\n\n  @media screen and (min-width: 320px) {\n    width: 100%;\n  }\n  @media screen and (min-width: 768px) {\n    gap: ${p => p.theme.space[5]}px;\n  }\n  @media screen and (min-width: 1280px) {\n    column-gap: ${p => p.theme.space[4]}px;\n  }\n`;\n\nexport const ListItem = styled.li`\nborder-radius: ${p => p.theme.radii.md};\ntransition: ${p => p.theme.transition.transform},\n    ${p => p.theme.transition.boxShadow};\n  &:hover,\n  &:focus {\n    transform: scale(1.03);\n    box-shadow: ${p => p.theme.shadows.cardHover};}\n`;\n\nexport const ImgTitle = styled.p`\n  font-weight: ${p => p.theme.fontWeights.bold};\n  font-size: ${p => p.theme.fontSizes.m};\n  line-height: 1.33;\n  color: ${p => p.theme.colors.title};\n  padding-left: ${p => p.theme.space[2]}px;\n  padding-right: ${p => p.theme.space[2]}px;\n  padding-bottom: ${p => p.theme.space[2]}px;\n  `","import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { List, ListItem, ImgTitle} from './MoviesListStyled.styled';\nimport { Box } from 'components/Box';\n\nconst defaultPoster = 'https://www.proficinema.ru/assets/images/cnt/poster_no.png'\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w300';\n\nexport const MoviesList = ({ movies }) => {\n    const location = useLocation();\n  return (\n    <Box display=\"flex\" as=\"div\" p=\"4\">\n      <List>\n      {movies.map(({ id, poster_path, title }) => (\n        <ListItem key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            <img\n              width={300}\n              src={ \n                poster_path\n                  ? BASE_IMG_URL + poster_path\n                  : defaultPoster\n              }\n              alt={title}\n            />\n            <ImgTitle>{title}</ImgTitle>\n          </Link>\n        </ListItem>\n      ))}\n    </List>\n    </Box>\n    \n  );\n};\n\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      poster_path: PropTypes.string,\n      title: PropTypes.string,\n    })\n  ),\n};","import styled from '@emotion/styled';\n\nexport const Input = styled.input`\n  width: 300px;\n  height: 30px;\n  margin:20px 20px;\n\n  font-weight: ${p => p.theme.fontWeights.normal};\n  font-size: ${p => p.theme.fontSizes.m};\n  line-height: 1.33;\n  \n  color: ${p => p.theme.colors.secondary};\n`;\nexport const Button = styled.button`\n  width: 100px;\n  height: 35px;\n  margin-left: 20px;\n  \n  font-weight: ${p => p.theme.fontWeights.bold};\n  font-size: ${p => p.theme.fontSizes.m};\n  line-height: 1.33;\n\n  color: ${p => p.theme.colors.secondary};\n  background-color: ${p => p.theme.colors.title};  \n`;","import { Input, Button } from \"./SearchBar.styled\";\n\nexport const SearchBar = ({ onSubmit, query }) => {\n\n  return (\n    <>\n      <form onSubmit={onSubmit}>\n        <Input type=\"text\" name=\"query\" defaultValue={query} />\n        <Button type=\"submit\">Serch</Button>\n      </form>\n    </>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { MoviesList } from 'components/MoviesList/MoviesList';\nimport { SearchBar } from 'components/SearchBar/SearchBar';\nimport { fetchMoviesByQuery } from 'services/fetchMovies';\n\n\n const MoviePage = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  useEffect(() => {\n    if (query) {\n      fetchMoviesByQuery(query).then(data => setMovies(data.results));\n    }\n  }, [query]);\n  const onSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query: e.target.elements.query.value });\n  };\n  return (\n    <>\n      <SearchBar onSubmit={onSubmit} query={query} />\n      {movies.length > 0 && <MoviesList movies={movies} />}\n    </>\n  );\n};\n\nexport default MoviePage;","import axios from 'axios';\n\n\nconst API_KEY = 'bfe20768c956c05046c7d088e4b361cd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\n\nexport const fetchTrendingMovies = async () => {\n    const resp = await axios.get(`/trending/all/day?api_key=${API_KEY}`);\n    return resp.data;\n  };\n\n  export const fetchMoviesByQuery = async query => {\n    const resp = await axios.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return resp.data;\n  };\n\n  export const fetchMovieById = async movieId => {\n    const movie = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n    return movie;\n  };\n\n\n  export const fetchCast = async movieId => {\n    const cast = await axios.get(`/movie/${movieId}/credits?api_key=${API_KEY}`);\n    return cast.data;\n  };\n  export const fetchReviews = async movieId => {\n    const reviews = await axios.get(\n      `/movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n    return reviews;\n  };"],"names":["Box","styled","space","layout","List","p","theme","ListItem","radii","md","transition","transform","boxShadow","shadows","cardHover","ImgTitle","fontWeights","bold","fontSizes","m","colors","title","MoviesList","movies","location","useLocation","display","as","map","id","poster_path","to","state","from","width","src","alt","Input","normal","secondary","Button","SearchBar","onSubmit","query","type","name","defaultValue","useState","setMovies","useSearchParams","searchParams","setSearchParams","get","useEffect","fetchMoviesByQuery","then","data","results","e","preventDefault","target","elements","value","length","API_KEY","axios","fetchTrendingMovies","resp","fetchMovieById","movieId","movie","fetchCast","cast","fetchReviews","reviews"],"sourceRoot":""}